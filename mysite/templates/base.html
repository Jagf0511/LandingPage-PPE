<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Transport Service Medell铆n{% endblock %}</title>
    {% load static %}
    <link rel="shortcut icon" href="{% static 'Imgs/logos/iconweb.svg' %}" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <!-- Font Awesome para iconos -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        .lang-en, .lang-es {
            display: inline-block;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navigation">
            <div class="container-fluid wrap-nav">
                <div class="social-list me-auto">
                    <a class="logowpp" target="_blank" href="https://wa.me/573246281456"><img src="{% static 'Imgs/logos/wpp-03.svg' %}" alt="WhatsApp"></a>
                    <a class="fb" target="_blank" href="https://www.facebook.com/profile.php?id=100089531658354"><img src="{% static 'Imgs/logos/facebook-04.svg' %}" alt="Facebook"></a>
                    <a class="ig" target="_blank" href="https://www.instagram.com/transportservice_medellin/"><img src="{% static 'Imgs/logos/instagram-01.svg' %}" alt="Instagram"></a>
                </div>
                
                <a href="{% url 'index' %}" class="navbar-brand mx-auto mx-lg-0">
                    <img class="logo" src="{% static 'Imgs/logos/logotipo_web.svg' %}" alt="Logotipo Transport Service Medellin">
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto align-items-lg-center">
                        <li class="nav-item">
                            <a class="nav-link list" href="{% url 'index' %}">
                                <span class="lang-es">Inicio</span>
                                <span class="lang-en">Home</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link list" href="{% url 'index' %}#about-us">
                                <span class="lang-es">Sobre nosotros</span>
                                <span class="lang-en">About us</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link list" target="_blank" href="https://drive.google.com/file/d/1MZFcI5pwCUe6oWQOEQRYkOdcMfsOj6dU/view?usp=sharing">
                                Brochure
                            </a>
                        </li>
                        <li class="nav-item ms-lg-2">
                            <a id="translate-btn" class="btn btn-sm btn-outline-light" href="javascript:void(0);" title="Change language">
                                <span class="lang-es">EN</span>
                                <span class="lang-en" style="display: none;">ES</span>
                            </a>
                        </li>
                        {% if user.is_authenticated %}
                        <li class="nav-item ms-lg-2">
                            <a href="{% url 'dashboard' %}" class="nav-link login_btn">
                                <i class="fas fa-tachometer-alt"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item ms-lg-2">
                            <form action="{% url 'logout' %}" method="post" class="d-inline">
                                {% csrf_token %}
                                <button type="submit" class="nav-link login_btn" style="background: none; border: none; color: var(--secondary-color); cursor: pointer; font: inherit; font-weight: 500; transition: all 300ms ease-in-out; display: flex; align-items: center; gap: 5px; padding: 0.5rem 1rem;">
                                    <i class="fas fa-sign-out-alt"></i> <span class="lang-es">Cerrar sesi贸n</span><span class="lang-en">Logout</span>
                                </button>
                            </form>
                        </li>
                        {% else %}
                        <li class="nav-item ms-lg-2">
                            <a href="{% url 'login' %}" class="nav-link login_btn">
                                <i class="fas fa-sign-in-alt"></i> <span class="lang-es">Iniciar sesi贸n</span>
                                <span class="lang-en">Login</span>
                            </a>
                        </li>
                        <li class="nav-item ms-lg-2">
                            <a class="nav-link register_btn" href="{% url 'register' %}" style="padding: 0.5rem 1rem;">
                                <i class="fas fa-user-plus"></i> <span class="lang-es">Registrarse</span>
                                <span class="lang-en">Sign up</span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        {% if messages %}
            <div class="container mt-3">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        {% block content %}
        {% endblock %}
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-column">
                <img src="{% static 'Imgs/logos/iconweb.svg' %}" alt="Transport Service Medellin Logo" class="footer-logo">
            </div>
            <div class="footer-column">
                <h3>
                    <span class="lang-es">Contacto</span>
                    <span class="lang-en">Contact</span>
                </h3>
                <div class="contact-info">
                    <p><span class="icon"></span> +57 324 6281456</p>
                    <p><span class="icon"></span> transportservicemedellin@gmail.com</p>
                    <p><span class="icon"></span> Medell铆n, Colombia</p>
                </div>
            </div>
            <div class="footer-column">
                <h3>
                    <span class="lang-es">Redes sociales</span>
                    <span class="lang-en">Social Networks</span>
                </h3>
                <div class="social-links">
                    <p><span class="icon"></span> @transportservice_med</p>
                    <p><span class="icon"></span> @transportservice_medellin</p>
                    <p><span class="icon"></span> @transportservice_med</p>
                </div>
            </div>
        </div>
    </footer>

    <div class="footer-bottom">
        <p>Made by <a href="#" class="Autores"> Julian Fernandez - Juan Felipe Joaqui - Santiago Maya</a></p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="{% static 'js/improved_translation.js' %}"></script>
    
    {% block extra_js %}{% endblock %}
    
    <script>
        // Script para el cambio de idioma
        document.addEventListener('DOMContentLoaded', function() {
            
            // Funci贸n para cambiar el idioma
            function updateLanguage(lang) {
                // Actualizar el idioma en el almacenamiento local
                localStorage.setItem('currentLanguage', lang);
                
                // Actualizar la interfaz
                if (lang === 'es') {
                    document.querySelectorAll('.lang-es').forEach(el => el.style.display = 'inline-block');
                    document.querySelectorAll('.lang-en').forEach(el => el.style.display = 'none');
                    const translateBtn = document.getElementById('translate-btn');
                    if (translateBtn) {
                        translateBtn.querySelector('.lang-es').textContent = 'EN';
                        translateBtn.querySelector('.lang-en').textContent = 'ES';
                    }
                } else {
                    document.querySelectorAll('.lang-es').forEach(el => el.style.display = 'none');
                    document.querySelectorAll('.lang-en').forEach(el => el.style.display = 'inline-block');
                    const translateBtn = document.getElementById('translate-btn');
                    if (translateBtn) {
                        translateBtn.querySelector('.lang-es').textContent = 'EN';
                        translateBtn.querySelector('.lang-en').textContent = 'ES';
                    }
                }
            }
            
            // Inicializar el estado del idioma
            let currentLanguage = localStorage.getItem('currentLanguage') || 'es';
            
            // Si es la primera vez, establecer espa帽ol como predeterminado
            if (!localStorage.getItem('currentLanguage')) {
                currentLanguage = 'es';
                localStorage.setItem('currentLanguage', currentLanguage);
            }
            
            // Aplicar el idioma actual al cargar la p谩gina
            updateLanguage(currentLanguage);
            
            // Configurar el bot贸n de traducci贸n
            const translateBtn = document.getElementById('translate-btn');
            if (translateBtn) {
                translateBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    currentLanguage = localStorage.getItem('currentLanguage') || 'es';
                    const newLang = currentLanguage === 'es' ? 'en' : 'es';
                    updateLanguage(newLang);
                });
            }
        });
    </script>
</body>
</html>
